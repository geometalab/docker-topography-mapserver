MAP
  NAME "MAPSERVER QUICKSTART"

  FONTSET "/mapserver/config/fonts.list"

  UNITS DD
  SHAPEPATH "/var/www/"
  SIZE 800 600

  IMAGETYPE PNG24

  PROJECTION
    "init=epsg:3857"
  END

  WEB
    METADATA
      ows_enable_request "*"
    END
  END

  LAYER
    NAME "contours"
    TYPE LINE
    STATUS DEFAULT
    CONNECTIONTYPE UNION
    CONNECTION "500m,200m,100m,50m,25m,10m"
    STYLEITEM "AUTO"
    # Define an empty class that will be filled at runtime from the color and
    # styles read from each source layer.
    CLASS
    END
    PROJECTION
      "init=epsg:3857"
    END
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 0 0 0
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "500m"
    MAXSCALEDENOM 8000000000
    MINSCALEDENOM 1000
    PROJECTION
      AUTO
    END
    STATUS OFF
    TYPE LINE
    DATA "500"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 0 0 0
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "200m"
    MAXSCALEDENOM 100000
    MINSCALEDENOM 50000
    PROJECTION
      AUTO
    END
    STATUS OFF
    TYPE LINE
    DATA "200"
    LABELITEM elev
    GEOMTRANSFORM (smoothsia([shape], 5))
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 200 200 200
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "100m"
    MAXSCALEDENOM 50000
    MINSCALEDENOM 10000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "100"
    LABELITEM elev
    GEOMTRANSFORM (smoothsia([shape], 5))
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 200 200 200
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "50m"
    MAXSCALEDENOM 10000
    MINSCALEDENOM 4000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "50"
    LABELITEM elev
    GEOMTRANSFORM (smoothsia([shape], 5))
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 200 200 200
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "25m"
    MAXSCALEDENOM 4000
    MINSCALEDENOM 2000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "25"
    GEOMTRANSFORM (smoothsia([shape], 5))
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 200 200 200
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "10m"
    MAXSCALEDENOM 2000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "10"
    GEOMTRANSFORM (smoothsia([shape], 5))
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        COLOR 200 200 200
        OUTLINECOLOR 255 0 0
      END
    END
  END
END
