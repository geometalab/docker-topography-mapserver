MAP
  NAME "MAPSERVER QUICKSTART"

  FONTSET "/mapserver/config/fonts.list"

  UNITS DD
  SHAPEPATH "/var/www/"

  IMAGETYPE PNG24

  PROJECTION
    "init=epsg:3857"
  END

  WEB
    METADATA
      ows_enable_request "*"
    END
  END

  LAYER
    NAME "contours"
    TYPE LINE
    STATUS DEFAULT
    CONNECTIONTYPE UNION
    CONNECTION "500m,200m,100m,50m,25m,10m"
    GEOMTRANSFORM (smoothsia([shape], 3, 1, 'angle'))
    PROJECTION
      "init=epsg:3857"
    END
    STYLEITEM "AUTO"
    CLASS
    END
  END

  LAYER
    NAME "500m"
    # show layer from thi scale
    MAXSCALEDENOM 3000000
    # show layer until this scale
    MINSCALEDENOM 40000
    PROJECTION
      AUTO
    END
    STATUS OFF
    TYPE LINE
    DATA "500"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        #REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END
      END
      STYLE
        # use this style from this scale
        MAXSCALEDENOM 3000000
        # use this style until this scale
        MINSCALEDENOM 400000
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
      STYLE
        MAXSCALEDENOM 400000
        MINSCALEDENOM 40000
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "200m"
    MAXSCALEDENOM 400000
    MINSCALEDENOM 10000
    PROJECTION
      AUTO
    END
    STATUS OFF
    TYPE LINE
    DATA "200"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
       # thin
        MAXSCALEDENOM 400000
        MINSCALEDENOM 40000
        WIDTH 1.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
      STYLE
        # thick
        MAXSCALEDENOM 40000
        MINSCALEDENOM 10000
        WIDTH 3.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "100m"
    MAXSCALEDENOM 160000
    MINSCALEDENOM 3000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "100"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        # thin
        MAXSCALEDENOM 160000
        MINSCALEDENOM 10000
        WIDTH 1.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
      STYLE
        # thick
        MAXSCALEDENOM 10000
        MINSCALEDENOM 3000
        WIDTH 3.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "50m"
    MAXSCALEDENOM 20000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "50"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        # thin
        MAXSCALEDENOM 20000
        MINSCALEDENOM 5000
        WIDTH 1.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
      STYLE
        # thick
        MAXSCALEDENOM 5000
        WIDTH 3.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "25m"
    MAXSCALEDENOM 10000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "25"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        #thin
        MAXSCALEDENOM 10000
        WIDTH 1.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
    END
  END

  LAYER
    NAME "10m"
    MAXSCALEDENOM 5000
    PROJECTION
      AUTO
    END
    STATUS ON
    TYPE LINE
    DATA "10"
    GEOMTRANSFORM (smoothsia([shape], 5))
    LABELITEM elev
    CLASS
      LABEL
        COLOR 132 31 31
        OUTLINECOLOR 255 255 255
        OUTLINEWIDTH 2
        TYPE TRUETYPE
        FONT arial
        SIZE 9
        ANTIALIAS TRUE
        ANGLE FOLLOW
        POSITION CL
        PARTIALS false
        REPEATDISTANCE 120
        TEXT (tostring([elev],"%.0f"))
        STYLE
          GEOMTRANSFORM 'labelpoly'
          COLOR 153 153 153
          OFFSET 3 2
        END # STYLE
      END
      STYLE
        #thin
        MAXSCALEDENOM 5000
        WIDTH 1.0
        COLOR 152 100 47
        OUTLINECOLOR 255 0 0
      END
    END
  END
END
